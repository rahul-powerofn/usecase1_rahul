CREATE TABLE CUSTOMER
(
CUST_CODE CHAR(4) NOT NULL PRIMARY KEY,
CUST_NAME VARCHAR(10) ,
CUST_CITY VARCHAR(10),
PHONE_NO  BIGINT,
AGENT_CODE  CHAR(4) NOT NULL);
//customer table


INSERT INTO CUSTOMER VALUES
(‘C001’,’ Albert’,’Chennai’,9798865876,’A001’);


CREATE TABLE AGENT 
(

AGENT_CODE CHAR(4) NOT NULL PRIMARY KEY,
AGENT_NAME VARCHAR(10),
COUNTRY VARCHAR(10),
PHONE_NO BIGINT,
STATUS ENUM(‘0’, ‘1’)
);

// agent table
INSERT INTOAGENT  VALUES 
(
‘A001’,
‘Joe’,
‘Cnanada’,
2345623452,
0);

CREATE TABLE ORDERS
(
ORDER_NUM CHAR(4) NOT NULL PRIMARY KEY,
CUST_CODE CHAR(4) NOT NULL ,
AGENT_CODE CHAR(4) NOT NULL,
AMOUNT INT ,
ORDER_DATE DATE NOT NULL
);

INSERT INTO ORDERS VALUES
(
‘O001’,’C001’,’A001’,50000,’2021-02-12’);

//ORDER TABLE

//adding foreign key 
ALTER TABLE CUSTOMER
ADD FOREIGN KEY (AGENT_CODE)  REFERENCES AGENT(AGENT_CODE);

ALTER TABLE AGENT 
ADD FOREIGN KEY (AGENT_CODE) REFERENCES ORDERS(AGENT_CODE);

2.ALTER TABLE AGENT ADD COMMISSION DECIMAL(3,2);
UPDATE AGENT SET COMMISSION=’0.2’ WHERE AGENT_CODE=’A001’;

3.ALTER TABLE AGENT DROP PHONE_NO;

4.ALTER TABLE AGENT CHANGE COMMISSION COMMISSION_PERCENTAGE DECIMAL(3,2);

5. TRUNCATE ORDERS;

6.ALTER TABLE ORDERS ALTER AMOUNT SET DEFAULT 100000;

